{"version":3,"sources":["assets/moon-o.svg","assets/sun.svg","components/Layout/Layout.js","assets/arrow-left1.svg","components/Country/Country.js","components/CountryList/CountryList.js","assets/chevron-small-down.svg","components/Input/DropdownOption/DropdownOption.js","assets/search.svg","components/ui/SearchResults/SearchResults.js","components/ui/SearchBar/SearchBar.js","utils/Utils.js","components/Input/Input.js","components/ScrollUpButton/ScrollUpButton.js","containers/Countries/Countries.js","store/actions.js","components/ui/Flag/Flag.js","components/ui/FlagBanner/FlagBanner.js","containers/Home/Home.js","App.js","serviceWorker.js","store/saga.js","store/index.js","store/reducer.js","index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","_ref3","d","_ref","svgRef","title","props","width","height","viewBox","ref","undefined","ForwardRef","forwardRef","_ref4","Layout","Fragment","className","to","onClick","toggleDark","dark","children","React","memo","country","useRef","useState","clicked","setClicked","full","flag","container","resetStyle","current","style","transform","top","classList","add","remove","useEffect","document","body","leftOffset","window","innerWidth","offsetTop","scrollY","offsetLeft","console","log","contains","extractValues","arr","map","value","name","join","borders","item","falseCountries","findIndex","alpha3Code","push","extractBorders","updateFull","index","onTransitionEnd","e","stopPropagation","backButton","src","alt","nativeName","population","toString","replace","region","subregion","capital","topLevelDomain","currencies","languages","prevProps","nextProps","countries","CountryList","setPage","slice","page","handleScroll","useCallback","innerHeight","documentElement","scrollTop","offsetHeight","prevState","addEventListener","removeEventListener","DropdownOption","setFilter","SearchResults","searchResults","resultIndex","onMouseDown","onSubmitHandler","onMouseOver","mouseOverHandler","SearchBar","classes","extraClasses","results","onSubmit","preventDefault","type","placeholder","onChange","onChangeHandler","onKeyDown","keyDownHandler","onBlur","onBlurHandler","filterDuplicates","arr1","arr2","filter","val","includes","checkMatches","sortPriority","toLowerCase","sort","a","b","startsWith","halfMatches","split","find","str","shuffleArray","array","j","Math","floor","random","dropdownOpen","setDropdownOpen","clear","filteredCountries","setCountries","search","toggleDropdown","selectFilter","changeFilter","setSearch","ScrollUpButton","scrollTo","resetScroll","Countries","setFilteredCountries","showScrollButton","setShowScrollButton","history","useHistory","location","useLocation","dispatch","useDispatch","useSelector","state","pathname","newCountries","fetch","then","res","json","fetchedCountries","listener","listen","action","route","pathnameCountryIndex","redirect","render","Flag","img","flags","repeat","Home","setFlags","setSearchResults","setResultIndex","savedSearch","setSavedSearch","newFlags","path","keyCode","min","max","App","JSON","parse","localStorage","getItem","setDark","setItem","component","exact","Boolean","hostname","match","initCountries","put","watchCountries","takeEvery","initialState","reducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","sagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","run","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.13d98c8e.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"moon-o\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19.719 20.359c-0.562 0.094-1.141 0.141-1.719 0.141-5.797 0-10.5-4.703-10.5-10.5 0-1.984 0.578-3.922 1.625-5.578-4.156 1.234-7.125 5.047-7.125 9.578 0 5.516 4.484 10 10 10 3.016 0 5.844-1.375 7.719-3.641zM22.891 19.031c-1.953 4.234-6.234 6.969-10.891 6.969-6.609 0-12-5.391-12-12 0-6.484 5.078-11.75 11.547-11.984 0.438-0.016 0.797 0.234 0.953 0.609 0.172 0.391 0.063 0.844-0.234 1.125-1.781 1.625-2.766 3.844-2.766 6.25 0 4.688 3.813 8.5 8.5 8.5 1.234 0 2.422-0.266 3.563-0.797 0.391-0.172 0.828-0.094 1.125 0.203s0.375 0.75 0.203 1.125z\"\n});\n\nvar SvgMoonO = function SvgMoonO(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 23,\n    height: 28,\n    viewBox: \"0 0 23 28\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMoonO, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/moon-o.e8aa9fe3.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"sun\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16 26c1.105 0 2 0.895 2 2v2c0 1.105-0.895 2-2 2s-2-0.895-2-2v-2c0-1.105 0.895-2 2-2zM16 6c-1.105 0-2-0.895-2-2v-2c0-1.105 0.895-2 2-2s2 0.895 2 2v2c0 1.105-0.895 2-2 2zM30 14c1.105 0 2 0.895 2 2s-0.895 2-2 2h-2c-1.105 0-2-0.895-2-2s0.895-2 2-2h2zM6 16c0 1.105-0.895 2-2 2h-2c-1.105 0-2-0.895-2-2s0.895-2 2-2h2c1.105 0 2 0.895 2 2zM25.899 23.071l1.414 1.414c0.781 0.781 0.781 2.047 0 2.828s-2.047 0.781-2.828 0l-1.414-1.414c-0.781-0.781-0.781-2.047 0-2.828s2.047-0.781 2.828 0zM6.101 8.929l-1.414-1.414c-0.781-0.781-0.781-2.047 0-2.828s2.047-0.781 2.828 0l1.414 1.414c0.781 0.781 0.781 2.047 0 2.828s-2.047 0.781-2.828 0zM25.899 8.929c-0.781 0.781-2.047 0.781-2.828 0s-0.781-2.047 0-2.828l1.414-1.414c0.781-0.781 2.047-0.781 2.828 0s0.781 2.047 0 2.828l-1.414 1.414zM6.101 23.071c0.781-0.781 2.047-0.781 2.828 0s0.781 2.047 0 2.828l-1.414 1.414c-0.781 0.781-2.047 0.781-2.828 0s-0.781-2.047 0-2.828l1.414-1.414z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16 8c-4.418 0-8 3.582-8 8s3.582 8 8 8c4.418 0 8-3.582 8-8s-3.582-8-8-8zM16 21c-2.761 0-5-2.239-5-5s2.239-5 5-5 5 2.239 5 5-2.239 5-5 5z\"\n});\n\nvar SvgSun = function SvgSun(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSun, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/sun.f48a33cd.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\r\nimport './Layout.scss'\r\nimport {ReactComponent as Moon} from '../../assets/moon-o.svg'\r\nimport {ReactComponent as Sun} from '../../assets/sun.svg'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nconst Layout = props => {\r\n\r\n    return(\r\n        <React.Fragment>\r\n            <header className=\"Header\">\r\n                <div className=\"Header__inner\">\r\n                    <h1 className=\"Header__title\"><Link to=\"/\">Where in the world?</Link></h1>\r\n                    <div className=\"Header__dark\" onClick={props.toggleDark}>\r\n                        {props.dark ? <Sun className=\"Header__dark-icon\" /> : <Moon className=\"Header__dark-icon\" />}\r\n                        <span className=\"Header__dark-text\">{props.dark ? \"Light Mode\" : \"Dark Mode\"}</span>\r\n                    </div>\r\n                </div>\r\n            </header>\r\n            {props.children}\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default Layout","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"arrow-left1\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3.828 9l6.071-6.071-1.414-1.414-8.485 8.485 8.485 8.485 1.414-1.414-6.071-6.071h16.172v-2h-16.172z\"\n});\n\nvar SvgArrowLeft1 = function SvgArrowLeft1(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrowLeft1, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow-left1.11b68b17.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useRef, useState, useEffect} from 'react'\r\nimport './Country.scss'\r\nimport {ReactComponent as ArrowLeft} from '../../assets/arrow-left1.svg'\r\n\r\n\r\nconst Country = props => {\r\n\r\n    /*\r\n    In order to support animating between paths, each country recieves a full prop to determine whether or not to be fullscreen. The reason it's done this way is so each \r\n    country knows whether or not its full on render without having to figure it out itself. Each country independently checking the url every time it changes to see whether or \r\n    not they need to go full seems less efficient than having each country be told what it needs to do in order to stop countries checking for re renders unless they really \r\n    need to, given there can be up to 250 on screen at once.\r\n    */\r\n\r\n    const country = useRef(null)\r\n    const [clicked, setClicked] = useState(false)\r\n    const { full } = props\r\n    const flag = useRef(null)\r\n    const container = useRef(null)\r\n\r\n\r\n    const toggleClicked = () => {\r\n        if(!country.current.classList.contains(\"Country--full\")) {\r\n            setClicked(true)\r\n            props.updateFull(props.country.name, props.index)\r\n        }\r\n    }\r\n\r\n    const backButton = (e) => {\r\n        e.stopPropagation()\r\n        setClicked(false)\r\n        props.updateFull()\r\n        // country.current.classList.remove(\"Country--full\")\r\n        document.body.classList.remove(\"body--noscroll\")\r\n    }\r\n\r\n    const resetStyle = () => {\r\n        country.current.style.transform = null\r\n        flag.current.style.transform = null\r\n        flag.current.style.top = null\r\n        country.current.classList.add(\"Country--full\")\r\n        country.current.classList.remove(\"Country--moving\")\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(!clicked && full) {\r\n            document.body.classList.add(\"body--noscroll\")\r\n            country.current.classList.add(\"Country--full\")\r\n        } else if(clicked && full) {\r\n            document.body.classList.add(\"body--noscroll\")\r\n            country.current.classList.add(\"Country--moving\")\r\n            //leftOffset is used to offset the behaviour when animating the flag increasing in size. If the flags width/height doesn't animate this isn't needed.\r\n            let leftOffset = 0\r\n            if (window.innerWidth >= 768) {\r\n                leftOffset = 25\r\n            } \r\n            if (window.innerWidth >= 1440) {\r\n                leftOffset = 75\r\n            }\r\n            if(country.current.offsetTop - window.scrollY - 88 >= 0) {\r\n                country.current.style.transform = `translate(-${country.current.offsetLeft - leftOffset}px, -${country.current.offsetTop - window.scrollY - 86}px)`\r\n            } else {\r\n                console.log(2)\r\n                country.current.style.transform = `translate(-${country.current.offsetLeft - leftOffset}px, ${window.scrollY - country.current.offsetTop + 86}px)`\r\n            }\r\n            flag.current.style.transform = `translate(-50%, 0%)`\r\n            flag.current.style.top = \"0\"\r\n\r\n        } else if(!full && (country.current.classList.contains(\"Country--full\") || country.current.classList.contains(\"Country--moving\"))) {\r\n            resetStyle()\r\n            country.current.classList.remove(\"Country--full\")\r\n            document.body.classList.remove(\"body--noscroll\")\r\n        }\r\n    }, [clicked, full])\r\n\r\n\r\n\r\n    const numberWithCommas = (x) => {\r\n        return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n    }\r\n\r\n    const extractValues = (arr) => {\r\n        let values = arr.map(value => {\r\n            return value.name\r\n        })\r\n        return values.join(', ')\r\n    }\r\n\r\n    const extractBorders = () => {\r\n        let borders = []\r\n        for(const item of props.country.borders) {\r\n           let i = props.falseCountries.findIndex(country => {\r\n                return country.alpha3Code === item\r\n            })\r\n            borders.push(props.falseCountries[i].name)\r\n        }\r\n        return borders\r\n    }\r\n\r\n    let borders = null;\r\n    if (props.full) {\r\n        borders = extractBorders().map(country => {\r\n            return <button className=\"Country__box\" key={`border: + ${country}`}>{country}</button>\r\n        })\r\n        if(borders.length === 0) {\r\n            borders = null\r\n        }\r\n\r\n    }\r\n\r\n    return(\r\n            <div className=\"Country\" ref={country} onClick={toggleClicked} onTransitionEnd={resetStyle}>\r\n                <button className=\"Country__back Country__box\" onClick={(e) => backButton(e)}><ArrowLeft />Back</button>\r\n                <div className=\"Country__flag-container\" ref={container}>\r\n                    <img src={`${props.country.flag}`} alt={`Flag of ${props.country.name}`} className=\"Country__flag\" ref={flag}/>\r\n                </div>\r\n                <div className=\"Country__text\">\r\n                    <h3 className=\"Country__name\">{props.country.name}</h3>\r\n                    <div className=\"Country__stats\">\r\n                        <div className=\"Country__details\">\r\n                            <div className=\"Country__info Country__info--full\"><span className=\"Country__info-title\">Native Name:</span> {props.country.nativeName}</div>\r\n                            <div className=\"Country__info\"><span className=\"Country__info-title\">Population:</span> {numberWithCommas(props.country.population)}</div>\r\n                            <div className=\"Country__info\"><span className=\"Country__info-title\">Region:</span> {props.country.region}</div>\r\n                            <div className=\"Country__info Country__info--full\"><span className=\"Country__info-title\">Sub Region:</span> {props.country.subregion}</div>\r\n                            <div className=\"Country__info\"><span className=\"Country__info-title\">Capital:</span> {props.country.capital}</div>\r\n                        </div>\r\n                        <div className=\"Country__details\">\r\n                            <div className=\"Country__info Country__info--full\"><span className=\"Country__info-title\">Top Level Domain:</span> {props.country.topLevelDomain}</div>\r\n                            <div className=\"Country__info Country__info--full\"><span className=\"Country__info-title\">Currencies:</span> {extractValues(props.country.currencies)}</div>\r\n                            <div className=\"Country__info Country__info--full\"><span className=\"Country__info-title\">Languages:</span> {extractValues(props.country.languages)}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"Country__details\">\r\n                        <div className=\"Country__info Country__info--full\"><span className=\"Country__info-title\">{borders ? \"Border Countries:\" : \"No border countries\"}</span></div>\r\n                        <div className=\"Country__boxes\">\r\n                            {borders}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    )\r\n}\r\n\r\n\r\nexport default React.memo(Country, (prevProps, nextProps) => {\r\n    return prevProps.full === nextProps.full && prevProps.countries.length === nextProps.countries.length && prevProps.falseCountries === nextProps.falseCountries\r\n})","import React, { useEffect, useCallback } from 'react'\r\nimport './CountryList.scss'\r\nimport Country from '../Country/Country'\r\n\r\n\r\n\r\nconst CountryList = props => {\r\n\r\n    let country = null\r\n    const {setPage} = props\r\n\r\n    // if(props.countries) {\r\n    //     country = props.countries.map((country, index) => {\r\n    //             if(country.full) {\r\n    //                 return <Country country={country} falseCountries={props.falseCountries} countries={props.countries} key={country.alpha3Code} updateFull={props.updateFull} index={index} full/>\r\n    //             }\r\n    //         return <Country country={country} falseCountries={props.falseCountries} countries={props.countries} key={country.alpha3Code} updateFull={props.updateFull} index={index}/>\r\n    //     })\r\n    // }\r\n\r\n    if(props.countries) {\r\n        let arr = []\r\n        arr = props.countries.slice(0, props.page * 10)\r\n        country = arr.map(country => {\r\n            if(country.full) {\r\n                return <Country country={country} falseCountries={props.falseCountries} countries={props.countries} key={country.alpha3Code} updateFull={props.updateFull} full/>\r\n            }\r\n            return <Country country={country} falseCountries={props.falseCountries} countries={props.countries} key={country.alpha3Code} updateFull={props.updateFull}/>\r\n        })\r\n    }\r\n\r\n    const handleScroll = useCallback(() => {\r\n        if((window.innerHeight + document.documentElement.scrollTop) >= document.documentElement.offsetHeight - 450) {\r\n            setPage(prevState => prevState + 1)\r\n        }\r\n    }, [setPage])\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"scroll\", handleScroll)\r\n        return(() => {\r\n            window.removeEventListener(\"scroll\", handleScroll) \r\n        })\r\n    }, [handleScroll])\r\n\r\n    return(\r\n        <div className=\"CountryList\">\r\n            {country}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default CountryList\r\n\r\n// return prevProps.countries === nextProps.countries && prevProps.updateFull === nextProps.updateFull && prevProps.countries === nextProps.countries","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"chevron-small-down\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13.418 7.859c0.271-0.268 0.709-0.268 0.978 0s0.272 0.701 0 0.969l-3.908 3.83c-0.27 0.268-0.707 0.268-0.979 0l-3.908-3.83c-0.27-0.267-0.27-0.701 0-0.969s0.709-0.268 0.978 0l3.421 3.141 3.418-3.141z\"\n});\n\nvar SvgChevronSmallDown = function SvgChevronSmallDown(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgChevronSmallDown, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/chevron-small-down.13b32cd3.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\r\n\r\n\r\nconst DropdownOption = props => {\r\n\r\n   return <li className=\"Filter__option\" onClick={() => props.setFilter(props.children)}>{props.children}</li>\r\n}\r\n\r\nexport default DropdownOption","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"search\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M31.008 27.231l-7.58-6.447c-0.784-0.705-1.622-1.029-2.299-0.998 1.789-2.096 2.87-4.815 2.87-7.787 0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12c2.972 0 5.691-1.081 7.787-2.87-0.031 0.677 0.293 1.515 0.998 2.299l6.447 7.58c1.104 1.226 2.907 1.33 4.007 0.23s0.997-2.903-0.23-4.007zM12 20c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8z\"\n});\n\nvar SvgSearch = function SvgSearch(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSearch, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/search.bf3113cd.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\r\nimport './SearchResults.scss'\r\nimport SearchResult from './SearchResult/SearchResult'\r\n\r\nexport default function SearchResults(props) {\r\n\r\n\r\n    return (\r\n        <div className=\"SearchResults\">\r\n            {props.searchResults.map((country, index) => {\r\n                if(index === props.resultIndex) {\r\n                    return <li className=\"SearchResult SearchResult--selected\" key={country.name} onMouseDown={(e) => props.onSubmitHandler(e, country.name)} onMouseOver={() => props.mouseOverHandler(index)}>{country.name}</li>\r\n                } else {\r\n                    return <li className=\"SearchResult\" key={country.name} onClick={(e) => props.onSubmitHandler(e, country.name)} onMouseOver={() => props.mouseOverHandler(index)}>{country.name}</li>\r\n                }\r\n            }).slice(0, 5)}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport './SearchBar.scss'\r\nimport {ReactComponent as SearchIcon} from '../../../assets/search.svg'\r\nimport SearchResults from '../SearchResults/SearchResults'\r\n\r\n\r\nexport default function SearchBar(props) {\r\n\r\n    let classes = \"Search\"\r\n    if(props.extraClasses) {\r\n        classes += ` ${props.extraClasses}`\r\n    }\r\n\r\n    const onSubmitHandler = (e) => {\r\n        e.preventDefault()\r\n    }\r\n\r\n    // const onBlurHandler = () => {\r\n    //     search.current.classList.remove(\"Search--focus\")\r\n    // }\r\n\r\n    // const onFocusHandler = () => {\r\n    //     search.current.classList.add(\"Search--focus\")\r\n    // }\r\n\r\n    let results = null\r\n    if(props.searchResults) {\r\n        results = <SearchResults searchResults={props.searchResults}\r\n                    onSubmitHandler={props.onSubmitHandler}\r\n                    mouseOverHandler={props.mouseOverHandler}\r\n                    resultIndex={props.resultIndex}/>\r\n    }\r\n\r\n    return (\r\n        <form className={classes} onSubmit={props.onSubmitHandler ? (e) => props.onSubmitHandler(e, props.value) : (e) => onSubmitHandler(e)}>\r\n            <SearchIcon />\r\n            <input type=\"text\" \r\n                   placeholder=\"Search for a country...\" \r\n                   className=\"Search__input\" \r\n                   onChange={(e) => props.onChangeHandler(e)} \r\n                   value={props.value} \r\n                   onKeyDown={props.keyDownHandler ? (e) => props.keyDownHandler(e) : null}\r\n                   onBlur={props.onBlurHandler ? props.onBlurHandler : null}/>    \r\n            {results}\r\n        </form>\r\n    )\r\n}\r\n","export const filterDuplicates = (arr1, arr2) => {\r\n    return arr2.filter(val => !arr1.includes(val));\r\n}\r\n\r\nexport const checkMatches = (arr, value, sortPriority) => {\r\n    value = value.toLowerCase()\r\n\r\n    let includes = arr.filter(country => {\r\n        return country.name.toLowerCase().includes(value)\r\n    })\r\n    if(sortPriority === \"population\") {\r\n        includes.sort((a, b) => {\r\n            return b.population - a.population\r\n        })\r\n    }\r\n    let startsWith = includes.filter(country => {\r\n        return country.name.toLowerCase().startsWith(value)\r\n    })\r\n    includes = filterDuplicates(startsWith, includes)\r\n\r\n    let halfMatches = includes.filter((country, i) => {\r\n        if(!country.name.includes(\" \")) return false\r\n        let split = country.name.toLowerCase().split(' ')\r\n        return split.find(str => {\r\n            return str.startsWith(value)\r\n        })\r\n    })\r\n    includes = filterDuplicates(halfMatches, includes)\r\n    let finalResults = [...startsWith, ...halfMatches, ...includes]\r\n    return finalResults\r\n}\r\n\r\nexport function shuffleArray(array) {\r\n    for (let i = array.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        [array[i], array[j]] = [array[j], array[i]];\r\n    }\r\n}\r\n","import React, { useState, useRef, useEffect } from 'react'\r\nimport './Input.scss'\r\nimport {ReactComponent as ChevronDown} from '../../assets/chevron-small-down.svg'\r\nimport DropdownOption from './DropdownOption/DropdownOption'\r\nimport SearchBar from '../ui/SearchBar/SearchBar'\r\nimport { checkMatches } from '../../utils/Utils'\r\n\r\n\r\nconst Search = (props) => {\r\n\r\n    const [dropdownOpen, setDropdownOpen] = useState(false)\r\n    const filter = useRef(null)\r\n    const container = useRef(null)\r\n    const clear = useRef(null)\r\n    let {filteredCountries, falseCountries, setPage, setCountries, search} = props\r\n    \r\n    const toggleDropdown = (e) => {\r\n        setDropdownOpen(prevState => !prevState)\r\n            if(!dropdownOpen){\r\n                filter.current.classList.add('Filter--open')\r\n                filter.current.classList.add('Filter--z1')\r\n                container.current.classList.remove('\"Filter__dropdown-container--noclick\"')\r\n            } else {\r\n                filter.current.classList.remove('Filter--open')\r\n                container.current.classList.add('\"Filter__dropdown-container--noclick\"')\r\n            }\r\n    }\r\n\r\n    const selectFilter = (filter) => {\r\n        props.changeFilter(filter)\r\n        clear.current.classList.add(\"Filter__clear--active\")\r\n        toggleDropdown()\r\n        props.setPage(1)\r\n    }\r\n\r\n    const removeFilter = () => {\r\n        clear.current.classList.remove(\"Filter__clear--active\")\r\n        props.setPage(1)\r\n        props.changeFilter()\r\n    }\r\n\r\n    const swapZIndex = () => {\r\n        if(!dropdownOpen) {\r\n            filter.current.classList.remove('Filter--z1')\r\n        }\r\n    }\r\n\r\n    const inputChangeHandler = (e) => {\r\n        props.setSearch(e.target.value)\r\n        if(!e.target.value) {\r\n            setPage(1)\r\n            setCountries(filteredCountries || falseCountries)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        let arr;\r\n        if(filteredCountries && search) {\r\n            arr = checkMatches(filteredCountries, search)\r\n            setPage(1)\r\n            setCountries(arr)\r\n        } else if (falseCountries && search){\r\n            arr = checkMatches(falseCountries, search)\r\n            setPage(1)\r\n            setCountries(arr)\r\n        }\r\n    }, [filteredCountries, falseCountries, setPage, setCountries, search])\r\n\r\n\r\n\r\n    // const closeDropdown = () => {\r\n    //     console.log(1)\r\n    //     // if(!dropdownOpen){\r\n    //         console.log('closing')\r\n    //         setDropdownOpen(false)\r\n    //         filter.current.classList.remove('Filter--open')\r\n    //         container.current.classList.add('\"Filter__dropdown-container--noclick\"')\r\n    //     // }\r\n    // }\r\n\r\n    // useEffect(() => {\r\n    //         document.body.addEventListener(\"click\", closeDropdown)\r\n    //     return(() => {\r\n    //         document.body.removeEventListener(\"click\", closeDropdown)\r\n    //     })\r\n    //   }, [])\r\n\r\n\r\n    return(\r\n        <div className=\"Input\">\r\n            <SearchBar extraClasses=\"marg-bottom-small marg-right-medium\" onChangeHandler={inputChangeHandler} value={props.search}/>\r\n            <div className=\"Filter\" ref={filter}>\r\n                <div className=\"Filter__clear\" onClick={removeFilter} ref={clear}></div>\r\n                <div className=\"Filter__body\"  onClick={(e) => toggleDropdown(e)}>\r\n                    <h4 className=\"Filter__title\">{props.filter ? props.filter : \"Filter by region\"}</h4>\r\n                    <ChevronDown />\r\n                </div>\r\n                <div className=\"Filter__dropdown-container\" ref={container}>\r\n                    <ul className=\"Filter__dropdown\" onTransitionEnd={swapZIndex}>\r\n                        <DropdownOption setFilter={selectFilter}>Africa</DropdownOption>\r\n                        <DropdownOption setFilter={selectFilter}>Americas</DropdownOption>\r\n                        <DropdownOption setFilter={selectFilter}>Asia</DropdownOption>\r\n                        <DropdownOption setFilter={selectFilter}>Europe</DropdownOption>\r\n                        <DropdownOption setFilter={selectFilter}>Oceania</DropdownOption>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Search)","import React from 'react'\r\nimport './ScrollUpButton.scss'\r\nimport {ReactComponent as Arrow} from '../../assets/arrow-left1.svg'\r\n\r\n\r\nexport default function ScrollUpButton(props) {\r\n\r\n    const clickHandler = () => {\r\n        window.scrollTo(0, 0);\r\n        if(props.resetScroll) {\r\n            props.resetScroll()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"ScrollUpButton\" onClick={clickHandler}>\r\n            <Arrow />\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect, useCallback} from 'react'\r\nimport CountryList from '../../components/CountryList/CountryList'\r\nimport Input from '../../components/Input/Input'\r\nimport { useHistory, useLocation, Route, Redirect } from 'react-router-dom'\r\nimport Country from '../../components/Country/Country'\r\nimport ScrollUpButton from '../../components/ScrollUpButton/ScrollUpButton'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport * as actionTypes from '../../store/actions'\r\n\r\n\r\nconst Countries = props => {\r\n\r\n    const [countries, setCountries] = useState(null)\r\n    // const [falseCountries, setFalseCountries] = useState(null)\r\n    const [filteredCountries, setFilteredCountries] = useState(null)\r\n    const [showScrollButton, setShowScrollButton] = useState(false)\r\n    const [filter, setFilter] = useState()\r\n    const history = useHistory()\r\n    const location = useLocation()\r\n    const [page, setPage] = useState(1)\r\n    const [search, setSearch] = useState(\"\")\r\n    const dispatch = useDispatch()\r\n    const falseCountries = useSelector(state => state.falseCountries)\r\n\r\n\r\n    useEffect(() => {\r\n\r\n\r\n\r\n        if(!falseCountries){\r\n        fetch('https://restcountries.eu/rest/v2/all?fields=alpha3Code;borders;capital;currencies;flag;languages;latlng;name;nativeName;population;region;subregion;topLevelDomain')\r\n        // fetch('https://restcountries.eu/rest/v2/all')\r\n        .then(res => res.json())\r\n        .then(res => {\r\n        dispatch({type: actionTypes.INIT_COUNTRIES, falseCountries: res})\r\n            if (location.pathname === \"/countries\"){\r\n                setCountries(falseCountries)\r\n            } else {\r\n                let fetchedCountries = res.map(country => {\r\n                    if(\"/countries/\" + country.name === location.pathname) {\r\n                        return {\r\n                            ...country,\r\n                            full: true\r\n                        }\r\n                    }\r\n                    else {\r\n                        return {\r\n                            ...country,\r\n                            full: false\r\n                        }\r\n                    }\r\n                })\r\n                setCountries(fetchedCountries)\r\n            }\r\n        })\r\n    } else if (!countries) {\r\n        if (location.pathname === \"/countries\"){\r\n            setCountries(falseCountries)\r\n        } else {\r\n            let newCountries = falseCountries.map(country => {\r\n                if(\"/countries/\" + country.name === location.pathname) {\r\n                    return {\r\n                        ...country,\r\n                        full: true\r\n                    }\r\n                }\r\n                else {\r\n                    return {\r\n                        ...country,\r\n                        full: false\r\n                    }\r\n                }\r\n            })\r\n            setCountries(newCountries)\r\n        }\r\n    }\r\n    }, [location.pathname, countries, dispatch, falseCountries])\r\n\r\n\r\n    const updateFull = useCallback(name => {\r\n        let arr;\r\n        if(name){\r\n            history.push(\"/countries/\" + name)\r\n        arr = countries.map(country => {\r\n            if(country.name === name) {\r\n                return {\r\n                    ...country,\r\n                    full: true\r\n                }\r\n            } else {\r\n                return {\r\n                    ...country,\r\n                    full: false\r\n                }\r\n            }\r\n        })\r\n        setCountries(arr)\r\n        } else {\r\n            history.push('/countries')\r\n                arr = countries.map(country => {\r\n                    return {\r\n                        ...country,\r\n                        full: false\r\n                    }\r\n                })\r\n                setCountries(arr)\r\n        }\r\n    }, [countries, history])\r\n\r\n\r\n    //history handler\r\n    useEffect(() => {\r\n        const listener = history.listen((location, action) => {\r\n            // let fullCountry = document.querySelector('.Country--full')\r\n            // let movingCountry = document.querySelector('.Country--moving')\r\n            if(location.pathname === \"/countries\"){\r\n                setCountries(falseCountries)\r\n            } else if(falseCountries && action === \"POP\") {\r\n                let newCountries = falseCountries.map(country => {\r\n                    if(\"/countries/\" + country.name === location.pathname) {\r\n                        return {\r\n                            ...country,\r\n                            full: true\r\n                        }\r\n                    }\r\n                    else {\r\n                        return {\r\n                            ...country,\r\n                            full: false\r\n                        }\r\n                    }\r\n                })\r\n                setCountries(newCountries)\r\n            }\r\n        });\r\n        return(() => {\r\n            document.body.classList.remove(\"body--noscroll\")\r\n            listener()\r\n        })\r\n    }, [falseCountries, history])\r\n\r\n    const changeFilter = useCallback((filter) => {\r\n        setFilter(filter)\r\n        if(filter && falseCountries) {\r\n            let filteredCountries = falseCountries.filter(country => {\r\n                 return country.region === filter\r\n            })\r\n            setCountries(filteredCountries)\r\n            setFilteredCountries(filteredCountries)\r\n         } else {\r\n            setCountries([...falseCountries])\r\n            setFilteredCountries(null)\r\n         }\r\n    }, [falseCountries])\r\n\r\n    \r\n    const handleScroll = useCallback(() => {\r\n        if(window.scrollY > 1000) {\r\n            setShowScrollButton(true)\r\n        } else {\r\n            setShowScrollButton(false)\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"scroll\", handleScroll)\r\n        return(() => {\r\n            window.removeEventListener(\"scroll\", handleScroll)\r\n        })\r\n    }, [handleScroll])\r\n\r\n\r\n\r\n\r\n    let route = null;\r\n    let pathnameCountryIndex = null\r\n    let redirect = null;\r\n\r\n    if(location.pathname !== \"/countries\" && countries) {\r\n        pathnameCountryIndex = countries.findIndex(country => {\r\n            return \"/countries/\" + country.name === location.pathname\r\n        })\r\n        if(pathnameCountryIndex === -1) {\r\n            redirect = true\r\n        }\r\n    }\r\n\r\n    if(pathnameCountryIndex > (page * 10) - 1) {\r\n        route = <Route pathname=\"/countries/:countryname\" render={() => {\r\n            return <Country country={countries[pathnameCountryIndex]} falseCountries={falseCountries} countries={countries} updateFull={updateFull} full/>\r\n        }} />\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            {redirect ? <Redirect to=\"/countries\"/> : null}\r\n            {route}\r\n            <Input changeFilter={changeFilter} \r\n                   filter={filter} \r\n                   setPage={setPage} \r\n                   search={search} \r\n                   setSearch={setSearch} \r\n                   countries={countries} \r\n                   setCountries={setCountries} \r\n                   falseCountries={falseCountries}\r\n                   filteredCountries={filteredCountries}/>\r\n            <CountryList countries={countries} updateFull={updateFull} falseCountries={falseCountries} page={page} setPage={setPage}/>\r\n            {showScrollButton ? <ScrollUpButton resetScroll={() => setPage(1)}/> : null}\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default Countries","export const INIT_COUNTRIES = \"INIT_COUNTRIES\"\r\nexport const SET_FALSE_COUNTRIES = \"SET_FALSE_COUNTRIES\"","import React from 'react'\r\nimport { useRef } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './Flag.scss'\r\n\r\nexport default function Flag(props) {\r\n   const flag = useRef(null)\r\n\r\n//    const setAnim = () => {\r\n//        flag.current.style.transform= `translateX(${document.querySelector('.Flags').offsetWidth - window.innerWidth}px)`\r\n//    }\r\n    // useEffect(() => {\r\n    //     console.log(document.querySelector('.Flags').offsetWidth)\r\n    //     flag.current.style.transform= `translateX(${document.querySelector('.Flags').offsetWidth - window.innerWidth}px)`\r\n    // }, [])\r\n\r\n\r\n    // const transitionEndHandler = (e) => {\r\n        // if(e.propertyName === \"transform\") {\r\n        //     console.log('resetting')\r\n        //     flag.current.style.transition = \"none\"\r\n        //     flag.current.style.transform= `translateX(0)`\r\n        //     setAnim()\r\n        // }\r\n    // }\r\n\r\n\r\n\r\n    return <Link to={`/countries/${props.name}`}><img src={props.img} alt=\"Flag\" className=\"Flag\" ref={flag} /></Link>\r\n}\r\n","import React from 'react'\r\nimport Flag from '../Flag/Flag'\r\nimport './FlagBanner.scss'\r\n\r\nfunction FlagBanner(props) {\r\n\r\n\r\n    // console.log(\"banner render\")\r\n\r\n\r\n\r\n    let flags = null\r\n    let repeat = null\r\n\r\n    if(props.flags.length > 0) {\r\n        repeat = props.flags.slice(0, 20).map(flag => {\r\n            return <Flag img={flag.flag} name={flag.name} key={flag.name} />\r\n        })\r\n        flags = props.flags.slice(0, 100).map(flag => {\r\n            return <Flag img={flag.flag} name={flag.name} key={\"repeat\" + flag.name} />\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"Flags\">\r\n            {flags}\r\n            <div className=\"Flags__repeat\">\r\n            {repeat}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(FlagBanner)\r\n","import React, { useState, useEffect, useCallback} from 'react'\r\nimport './Home.scss'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport SearchBar from '../../components/ui/SearchBar/SearchBar'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport * as actionTypes from '../../store/actions'\r\nimport FlagBanner from '../../components/ui/FlagBanner/FlagBanner'\r\nimport { checkMatches, shuffleArray} from '../../utils/Utils'\r\n\r\n\r\nexport default function Home() {\r\n\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n    const falseCountries = useSelector(state => state.falseCountries)\r\n    const [search, setSearch] = useState(\"\")\r\n    const [flags, setFlags] = useState([])\r\n    const [searchResults, setSearchResults] = useState(null)\r\n    const [resultIndex, setResultIndex] = useState(-1)\r\n    const [savedSearch, setSavedSearch] = useState(null)\r\n\r\n\r\n    useEffect(() => {\r\n        // Put this beginning logic into the init countries action\r\n        if(!falseCountries){\r\n        fetch('https://restcountries.eu/rest/v2/all')\r\n        .then(res => res.json())\r\n        .then(res => {\r\n        dispatch({type: actionTypes.INIT_COUNTRIES, falseCountries: res})\r\n        let newFlags = res.map(country => {\r\n            return {flag: country.flag, name: country.name}\r\n        })\r\n        shuffleArray(newFlags)\r\n        setFlags(newFlags)\r\n        })\r\n    } else {\r\n        let arr = [...falseCountries]\r\n        shuffleArray(arr)\r\n        setFlags(arr)\r\n    }\r\n    }, [falseCountries, dispatch])\r\n\r\n    // const debouncedChange = useCallback(debounce(value => setSearchResults(value), 100), [])\r\n\r\n    useEffect(() => {\r\n        let arr;\r\n        if(falseCountries && search && resultIndex <= -1) {\r\n            arr = checkMatches(falseCountries, search, \"population\")\r\n            if(arr.length) {\r\n                setSearchResults(arr)\r\n                // debouncedChange(arr)\r\n            } else {\r\n                setSearchResults(null)\r\n                // debouncedChange(arr)\r\n            }\r\n        } else if (falseCountries && search && resultIndex > -1) {\r\n            return\r\n        }\r\n        else if (falseCountries) {\r\n            setSearchResults(arr)\r\n            // debouncedChange(arr)\r\n        }\r\n    }, [falseCountries, search, resultIndex])\r\n\r\n\r\n\r\n\r\n    const onSubmitHandler = (e, value) => {\r\n        e.preventDefault()\r\n        let path = falseCountries.find(country => {\r\n            return country.name.toLowerCase() === value.toLowerCase()\r\n        })\r\n        if (path){\r\n        history.push(`/countries/${path.name}`)\r\n        }\r\n        else {\r\n            history.push('/countries')\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    //may want a reducer to handle this for state reliability\r\n    const keyDownHandler = (e) => {\r\n        if(searchResults && e.keyCode === 40) {\r\n            if(!savedSearch) {\r\n                setSavedSearch(search)\r\n            }\r\n            setResultIndex(prevState => {\r\n                if (prevState === Math.min(4, searchResults.length - 1)) {\r\n                    return -1\r\n                } else {\r\n                    return Math.min(prevState + 1, 4)\r\n                }\r\n            })\r\n            if(resultIndex === Math.min(4, searchResults.length - 1)) {\r\n                setSearch(savedSearch)\r\n                setSavedSearch(null)\r\n            } else {\r\n                setSearch(searchResults[Math.min(resultIndex + 1, 4)].name)\r\n            }\r\n        } else if(searchResults && e.keyCode === 38) {\r\n            if(!savedSearch) {\r\n                setSavedSearch(search)\r\n            }\r\n            e.preventDefault()\r\n            setResultIndex(prevState => {\r\n                if (prevState === -1) {\r\n                    return Math.min(4, searchResults.length - 1)\r\n                } else {\r\n                    return Math.max(prevState - 1, -1)\r\n                }\r\n            })\r\n            if(resultIndex === 0) {\r\n                setSearch(savedSearch)\r\n                setSavedSearch(null)\r\n            } else if(resultIndex === -1){\r\n                setSearch(searchResults[Math.min(4, searchResults.length - 1)].name)\r\n            } else {\r\n                setSearch(searchResults[Math.max(resultIndex - 1, -1)].name)\r\n            }\r\n        }\r\n    }\r\n\r\n    const mouseOverHandler = (index) => {\r\n        setResultIndex(index)\r\n    }\r\n\r\n    const onBlurHandler = () => {\r\n        setResultIndex(-1)\r\n    }\r\n\r\n\r\n\r\n    const onChangeHandler = useCallback((e) => {\r\n        setSearch(e.target.value)\r\n        setResultIndex(-1)\r\n        setSavedSearch(null)\r\n    }, [])\r\n\r\n\r\n\r\n\r\n\r\n    //need to clean up doing rendering work in a container\r\n    return (\r\n        <div className=\"Home\">\r\n            <div className=\"Flags-container\">\r\n                <FlagBanner flags={flags}/>\r\n            </div>\r\n            <div className=\"Home__content\">\r\n                <h1 className=\"Home__title\">Where in the World?</h1>\r\n                <div className=\"Home__search\">\r\n                    <SearchBar extraClasses=\"marg-bottom-medium\" \r\n                               onChangeHandler={(e) => onChangeHandler(e)} \r\n                               value={search} \r\n                               onSubmitHandler={onSubmitHandler} \r\n                               keyDownHandler={keyDownHandler} \r\n                               searchResults={searchResults}\r\n                               mouseOverHandler={mouseOverHandler}\r\n                               resultIndex={resultIndex}\r\n                               onBlurHandler={onBlurHandler} />\r\n                </div>\r\n                <span className=\"Home__text marg-bottom-medium\">or...</span>\r\n                <Link to=\"/countries\"><button className=\"Home__button\">View All Countries</button></Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\nimport './App.scss';\nimport Layout from './components/Layout/Layout'\nimport Countries from './containers/Countries/Countries'\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport Home from './containers/Home/Home';\n\n\n\n\nfunction App() {\n\n  let [dark, setDark] = useState(JSON.parse(localStorage.getItem(\"dark\")) ?? false)\n\n  // useLayoutEffect(() => {\n  //   setDark(JSON.parse(localStorage.getItem(\"dark\")) ?? false)\n  // }, [])\n\n\n\n\n\n\n  useEffect(() => {\n    if(dark) {\n      document.body.classList.add(\"body--dark\")\n      localStorage.setItem(\"dark\", true)\n    } else {\n      document.body.classList.remove(\"body--dark\")\n      localStorage.setItem(\"dark\", false)\n    }\n  }, [dark])\n\n  \n\n  const toggleDark = () => {\n    setDark(prevState => !prevState)\n  }\n\n\n  return (\n    <BrowserRouter>\n      <Layout dark={dark} toggleDark={toggleDark}>\n        <Switch>\n          <Route path=\"/countries\" component={Countries}/>\n          <Route path=\"/\" exact component={Home}/>\n          <Redirect to='/'/>\n        </Switch>\n      </Layout>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {put} from 'redux-saga/effects'\r\nimport * as actionTypes from './actions'\r\n\r\n\r\nexport function* initCountries(action) {\r\n\r\n    let fetchedCountries = yield action.falseCountries.map(country => {\r\n        return {\r\n            ...country,\r\n            full: false\r\n        }\r\n    })\r\n    yield put({type: actionTypes.SET_FALSE_COUNTRIES, falseCountries: fetchedCountries})\r\n}","import {takeEvery} from 'redux-saga/effects'\r\nimport * as actionTypes from './actions'\r\nimport {initCountries} from './saga'\r\n\r\nexport function* watchCountries() {\r\n    yield takeEvery(actionTypes.INIT_COUNTRIES, initCountries)\r\n}","import * as actionTypes from './actions'\r\n\r\nconst initialState = {\r\n    falseCountries: null\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n\r\n    switch(action.type) {\r\n        case(actionTypes.SET_FALSE_COUNTRIES):\r\n        return {\r\n            ...state,\r\n            falseCountries: action.falseCountries\r\n        }\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport default reducer\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport { Provider } from 'react-redux';\nimport createSagaMiddleware from 'redux-saga'\nimport {watchCountries} from './store/index'\nimport reducer from './store/reducer';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst sagaMiddleware = createSagaMiddleware()\n\nconst store = createStore(reducer, composeEnhancers(\n  applyMiddleware(sagaMiddleware)\n))\n\nsagaMiddleware.run(watchCountries)\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}